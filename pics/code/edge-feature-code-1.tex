\documentclass{standalone}
\usepackage{xcolor}
\usepackage{listings}
\input{../Course-on-Software-Product-Lines/slides/template/colorscheme}

\lstdefinestyle{modernjava}{
	language=Java,
	tabsize=2,
	breaklines=false,
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=\color{blue}\ttfamily,
	stringstyle=\color{red}\ttfamily,
	commentstyle=\color{green}\ttfamily,
	showstringspaces=false,
	columns=fullflexible,
}

\begin{document}
	\begin{lstlisting}[style=modernjava]
		class Edge {
			int cost = 1;
			//#if Weighted
			int weight = 3;
			//#endif
			//#if Coloring
			//#if SimpleColor
			int colorCost = 2;
			//#endif
			//#if MultiColor
			int[] colorCosts = {1, 2};
			//#endif
			//#endif
			
			int computeCost() {
				int total = cost;
				//#if Weighted
				total += weight;
				//#endif
				// ...
	\end{lstlisting}
\end{document}
