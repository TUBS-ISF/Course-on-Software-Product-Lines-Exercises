\documentclass{standalone}
\usepackage{xcolor}
\usepackage{listings}
\input{../Course-on-Software-Product-Lines/slides/template/colorscheme}

\lstdefinestyle{modernjava}{
	language=Java,
	tabsize=2,
	breaklines=false,
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=\color{blue}\ttfamily,
	stringstyle=\color{red}\ttfamily,
	commentstyle=\color{green}\ttfamily,
	showstringspaces=false,
	columns=fullflexible,
}

\begin{document}
	\begin{lstlisting}[style=modernjava]
			#include <stdio.h>
			#include <stdlib.h>
			
			#if defined (RLIMIT_CPU) || defined (RLMIT_NPROC) 
			|| defined (RLIMIT_DATA) 
			|| defined(RLIMIT_VMEM) || defined(RLIMIT_AS)
			int limits;
			#endif
			
			void send_req()
			{
				#ifdef RLIMIT_NPROC
				// ERROR: limits not declared
				limits = (rand() % 2) ? 1 : 0; 
				printf("%d", limits);
				#endif
			}
			
			int main(void)
			{
				send_req();
				return 0;
			}
	\end{lstlisting}
\end{document}
